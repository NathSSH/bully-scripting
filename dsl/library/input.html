<!DOCTYPE html>
<head>
	<title>DSL - Input Functions</title>
	<link rel="icon" href="/icon.ico"/>
	<link rel="stylesheet" href="/style.css"/>
	<script type="text/javascript" src="/copy.js"></script>
	<script type="text/javascript" src="/function.js"></script>
</head>
<body>
	<div id="main">
		<div id="content">
			<h1 id="func_name"></h1>
			<div id="func_info">
				<h1>Loading function...</h1>
				<p>
					Please make sure JavaScript is enabled.
					Otherwise you will be unable to see the function documentation.
				</p>
			</div>
		</div>
	</div>
	<div id="IsKeyValid" class="dsl_function">
		<p class="func_description">
			Translates <dfn>Key</dfn> just like <a href="/dsl/library/input.html?IsKeyPressed">IsKeyPressed</a> and returns if it is valid rather than raising an error.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_string">Key</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Result</li>
		</ul>
	</div>
	<div id="IsKeyPressed" class="dsl_function">
		<p class="func_description">
			Returns if a key is pressed.
			<dfn>Key</dfn> should be given as a DirectInput keyboard scan code name (listed below), but can also be given as a directly as a number.
			If a <dfn>Controller</dfn> is specified, a game input device will be used instead of the DSL keyboard. This is a good way to respect when other scripts disable controls.
			Using controller 0 also ensures that the player is actually using a keyboard to play rather than an xbox controller.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_string">Key</li>
			<li class="lua_opt_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Result</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> DirectInput keyboard scan codes are now used, but virtual key code names will still be converted for legacy support.<br/>
			<span class="dsl_version">DSL5</span> Keys are also reported as pressed when they are being pressed, and no longer when they are being released.
			<span class="dsl_version">DSL6</span> The optional <dfn>Controller</dfn> argument was added.
		</p>
		<h2>DirectInput Keyboard Scan Code Names</h2>
		<code class="func_details">
			<button class="copy_code" onclick="copyCode(this)">copy</button>
			<pre>ESCAPE
1
2
3
4
5
6
7
8
9
0
MINUS
EQUALS
BACK
TAB
Q
W
E
R
T
Y
U
I
O
P
LBRACKET
RBRACKET
RETURN
LCONTROL
A
S
D
F
G
H
J
K
L
SEMICOLON
APOSTROPHE
GRAVE
LSHIFT
BACKSLASH
Z
X
C
V
B
N
M
COMMA
PERIOD
SLASH
RSHIFT
MULTIPLY
LMENU
SPACE
CAPITAL
F1
F2
F3
F4
F5
F6
F7
F8
F9
F10
NUMLOCK
SCROLL
NUMPAD7
NUMPAD8
NUMPAD9
SUBTRACT
NUMPAD4
NUMPAD5
NUMPAD6
ADD
NUMPAD1
NUMPAD2
NUMPAD3
NUMPAD0
DECIMAL
OEM_102
F11
F12
F13
F14
F15
KANA
ABNT_C1
CONVERT
NOCONVERT
YEN
ABNT_C2
NUMPADEQUALS
PREVTRACK
AT
COLON
UNDERLINE
KANJI
STOP
AX
UNLABELED
NEXTTRACK
NUMPADENTER
RCONTROL
MUTE
CALCULATOR
PLAYPAUSE
MEDIASTOP
VOLUMEDOWN
VOLUMEUP
WEBHOME
NUMPADCOMMA
DIVIDE
SYSRQ
RMENU
PAUSE
HOME
UP
PRIOR
LEFT
RIGHT
END
DOWN
NEXT
INSERT
DELETE
LWIN
RWIN
APPS
POWER
SLEEP
WAKE
WEBSEARCH
WEBFAVORITES
WEBREFRESH
WEBSTOP
WEBFORWARD
WEBBACK
MYCOMPUTER
MAIL
MEDIASELECT
BACKSPACE
NUMPADSTAR
LALT
CAPSLOCK
NUMPADMINUS
NUMPADPLUS
NUMPADPERIOD
NUMPADSLASH
RALT
UPARROW
PGUP
LEFTARROW
RIGHTARROW
DOWNARROW
PGDN
CIRCUMFLEX</pre>
		</code>
	</div>
	<div id="IsKeyBeingPressed" class="dsl_function">
		<p class="func_description">
			Returns if a key was just pressed, meaning it is pressed this frame but was not on the previous one.
			<dfn>Key</dfn> and <dfn>Controller</dfn> are interpreted the same way as they are by <a href="/dsl/library/input.html?IsKeyPressed">IsKeyPressed</a>.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_string">Key</li>
			<li class="lua_opt_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Result</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> DirectInput keyboard scan codes are now used, but virtual key code names will still be converted for legacy support.
			<span class="dsl_version">DSL6</span> The optional <dfn>Controller</dfn> argument was added.
		</p>
	</div>
	<div id="IsKeyBeingReleased" class="dsl_function">
		<p class="func_description">
			Returns if a key was just released, meaning it is not pressed this frame but was on the previous one.
			<dfn>Key</dfn> and <dfn>Controller</dfn> are interpreted the same way as they are by <a href="/dsl/library/input.html?IsKeyPressed">IsKeyPressed</a>.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_string">Key</li>
			<li class="lua_opt_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Result</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> DirectInput keyboard scan codes are now used, but virtual key code names will still be converted for legacy support.
			<span class="dsl_version">DSL6</span> The optional <dfn>Controller</dfn> argument was added.
		</p>
	</div>
	<div id="GetAnyKeyPressed" class="dsl_function">
		<p class="func_description">
			Returns any <dfn>Key</dfn> that would satisfy <a href="/dsl/library/input.html?IsKeyPressed">IsKeyPressed</a>.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_number">Key</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> DirectInput keyboard scan codes are now used, but virtual key code names will still be converted for legacy support.<br/>
			<span class="dsl_version">DSL5</span> Keys are also reported as pressed when they are being pressed, and no longer when they are being released.
		</p>
	</div>
	<div id="GetAnyKeyBeingPressed" class="dsl_function">
		<p class="func_description">
			Returns any <dfn>Key</dfn> that would satisfy <a href="/dsl/library/input.html?IsKeyBeingPressed">IsKeyBeingPressed</a>.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_number">Key</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> DirectInput keyboard scan codes are now used, but virtual key code names will still be converted for legacy support.
		</p>
	</div>
	<div id="GetAnyKeyBeingReleased" class="dsl_function">
		<p class="func_description">
			Returns any <dfn>Key</dfn> that would satisfy <a href="/dsl/library/input.html?IsKeyBeingReleased">IsKeyBeingReleased</a>.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_number">Key</li>
		</ul>
	</div>
	<div id="StartTyping" class="dsl_function">
		<p class="func_description">
			Start allowing keyboard input that can be retrieved using <a href="/dsl/library/input.html?GetTypingString">GetTypingString</a>.
			If typing was already active, then this function will return false.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_opt_string">Initial</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Started</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL7</span> The optional <dfn>Initial</dfn> argument can put some text in the string to begin with.
		</p>
		<h2>Example</h2>
		<p>Start a mission when a button is pressed.</p>
		<code class="func_example">
			<button class="copy_code" onclick="copyCode(this)">copy</button>
			<pre>function main()
	while not SystemIsReady() do
		Wait(0)
	end
	while true do
		if IsButtonBeingPressed(3, 0) and StartTyping() then
			while IsTypingActive() do
				TextPrintString("start mission: "..GetTypingString(), 0, 1)
				Wait(0)
			end
			if not WasTypingAborted() then
				ForceStartMission(GetTypingString())
			end
		end
		Wait(0)
	end
end</pre>
		</code>
	</div>
	<div id="IsTypingActive" class="dsl_function">
		<p class="func_description">
			Returns if typing is currently active (see <a href="/dsl/library/input.html?StartTyping">StartTyping</a>).
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Active</li>
		</ul>
	</div>
	<div id="GetTypingString" class="dsl_function">
		<p class="func_description">
			Returns the string being typed (see <a href="/dsl/library/input.html?StartTyping">StartTyping</a>).
			Do not call this function if you have not started typing.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_string">String</li>
		</ul>
	</div>
	<div id="WasTypingAborted" class="dsl_function">
		<p class="func_description">
			Returns if the reason <a href="/dsl/library/input.html?IsTypingActive">IsTypingActive</a> returned false was because the typing was aborted.
			Typing can be aborted by pressing the enter key, or by using <a href="/dsl/library/input.html?StopTyping">StopTyping</a>.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Aborted</li>
		</ul>
	</div>
	<div id="StopTyping" class="dsl_function">
		<p class="func_description">
			Abort typing (see <a href="/dsl/library/input.html?StartTyping">StartTyping</a>).
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<p class="func_results">None.</p>
	</div>
	<div id="GetMouseInput" class="dsl_function">
		<p class="func_description">
			Returns direct mouse input.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_number">X</li>
			<li class="lua_number">Y</li>
		</ul>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL4</span> This function now works properly, without the need for running on a specific thread.
		</p>
	</div>
	<div id="SetButtonPressed" class="dsl_function">
		<p class="func_description">
			Set a button as pressed. This function is intended to be called during a <a href="/dsl/library/event.html?RegisterLocalEventHandler">ControllerUpdating</a> event.
			Calling it at any other time may produce unexpected results. This is often a good way of disabling a specific button on a specific controller.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Button</li>
			<li class="lua_number">Controller</li>
			<li class="lua_boolean">Pressed</li>
		</ul>
		<h2>Results</h2>
		<p class="func_results">None.</p>
		<h2>Example</h2>
		<p>Disable the sprint button for all controllers.</p>
		<code class="func_example">
			<button class="copy_code" onclick="copyCode(this)">copy</button>
			<pre>RegisterLocalEventHandler("ControllerUpdating", function(controller)
	SetButtonPressed(7, controller, false)
end)</pre>
		</code>
	</div>
	<div id="SetStickValue" class="dsl_function">
		<p class="func_description">
			Set a stick's value. This function is intended to be called during a <a href="/dsl/library/event.html?RegisterLocalEventHandler">ControllersUpdated</a> event.
			Calling it at any other time may produce unexpected results.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Stick</li>
			<li class="lua_number">Controller</li>
			<li class="lua_number">Value</li>
		</ul>
		<h2>Results</h2>
		<p class="func_results">None.</p>
		<h2>Example</h2>
		<p>If player one is using keyboard, re-map their camera controls to use direct mouse input.</p>
		<code class="func_example">
			<button class="copy_code" onclick="copyCode(this)">copy</button>
			<pre>RegisterLocalEventHandler("ControllersUpdated", function()
	if not IsUsingJoystick(0) then
		local x, y = GetMouseInput()
		SetStickValue(18, 0, -x * 0.02)
		SetStickValue(19, 0, -y * 0.02)
	end
end)</pre>
		</code>
	</div>
	<div id="GetInputHardware" class="dsl_function">
		<div class="func_description">
			<p>
				Returns what hardware a certain input is bound to. The possible values for <dfn>Type</dfn> are as follows.
			</p>
			<ul>
				<li><b>button</b>: <dfn>Value</dfn> is a button from an xbox controller [0-15]</li>
				<li><b>analog</b>: <dfn>Value</dfn> is an analog stick from an xbox controller [16-23]
				<li><b>special</b>: <dfn>Value</dfn> is the skateboard button from an xbox controller (24)</li>
				<li><b>keyboard</b>: <dfn>Value</dfn> is a DirectInput Keyboard Scan Code [0,255]</li>
				<li><b>mouse_button</b>: <dfn>Value</dfn> is a DirectInput Mouse button index [0,3]</li>
				<li><b>mouse_movement</b>: <dfn>Value</dfn> represents DirectInput mouse movement [0,5]</li>
			</ul>
		</div>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Button / Stick</li>
			<li class="lua_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_string">Type</li>
			<li class="lua_number">Value</li>
		</ul>
	</div>
	<div id="IsUsingJoystick" class="dsl_function">
		<p class="func_description">
			Returns if the controller is an xbox controller (otherwise it a keyboard).
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Joystick</li>
		</ul>
	</div>
	<div id="GetMouseScroll" class="dsl_function">
		<p class="func_description">
			Returns the scroll wheel value for the mouse.
		</p>
		<h2>Arguments</h2>
		<p class="func_arguments">None.</p>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_number">Value</li>
		</ul>
	</div>
	<div id="IsMousePressed" class="dsl_function">
		<p class="func_description">
			Returns if a mouse button is pressed. Mouse buttons are in the range of [0,3] for a total of 4 buttons.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Button</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Pressed</li>
		</ul>
	</div>
	<div id="IsMouseBeingPressed" class="dsl_function">
		<p class="func_description">
			Returns if a mouse button was just pressed this frame. Mouse buttons are in the range of [0,3] for a total of 4 buttons.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Button</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Pressed</li>
		</ul>
	</div>
	<div id="IsMouseBeingReleased" class="dsl_function">
		<p class="func_description">
			Returns if a mouse button was just released this frame. Mouse buttons are in the range of [0,3] for a total of 4 buttons.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Button</li>
		</ul>
		<h2>Results</h2>
		<ul class="func_results">
			<li class="lua_boolean">Released</li>
		</ul>
	</div>
	<div id="ZeroController" class="dsl_function">
		<p class="func_description">
			Zero all the input memory on a controller.
			This is a good way to disable all input on an input device, but remember to call it on both controller-related events.
			If you do not call it during both events, buttons may misbehave and act like they're being repeatedly pressed.
		</p>
		<h2>Arguments</h2>
		<ul class="func_arguments">
			<li class="lua_number">Controller</li>
		</ul>
		<h2>Results</h2>
		<p class="func_results">None.</p>
		<h2>Versions</h2>
		<p class="func_versions">
			<span class="dsl_version">DSL5</span> This function was released as <dfn>DisableController</dfn> but did not work properly.
			<span class="dsl_version">DSL6</span> This function now works as intended and was re-named.
		</p>
		<h2>Example</h2>
		<p>Disable the player's controls fully.</p>
		<code class="func_example">
			<button class="copy_code" onclick="copyCode(this)">copy</button>
			<pre>RegisterLocalEventHandler("ControllerUpdating", function(controller)
	if controller == 0 then
		ZeroController(controller)
	end
end)
RegisterLocalEventHandler("ControllersUpdated", function()
	ZeroController(0)
end)</pre>
		</code>
	</div>
	<script type="text/javascript" src="/navigation.js"></script>
	<script type="text/javascript">
		setupRealFunctionPageDSL(location.search.substring(1));
	</script>
</body>